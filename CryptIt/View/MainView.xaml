<Window x:Class="CryptIt.View.MainView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MainView" Height="300" Width="300">
    

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition></ColumnDefinition>
            <ColumnDefinition></ColumnDefinition>
        </Grid.ColumnDefinitions>
            <ListView ItemsSource="{Binding Friends}" SelectedItem="{Binding SelectedUser}">
                <ListView.View>
                        <GridView>
                            <GridView.Columns>
                                 <GridViewColumn>
                                <GridViewColumn.CellTemplate>
                                    <DataTemplate>
                                        <Image Source="{Binding PhotoUrl}" />
                                    </DataTemplate>
                                </GridViewColumn.CellTemplate>
                            </GridViewColumn>
                        <GridViewColumn DisplayMemberBinding="{Binding FullName}"/>
                            </GridView.Columns>
                           
                    </GridView>
                </ListView.View>
            </ListView>
        <Grid Grid.Column="1">
           <Grid.RowDefinitions>
               <RowDefinition Height="1*"></RowDefinition>
                <RowDefinition Height="15*"></RowDefinition>
                <RowDefinition Height="4*"></RowDefinition>
                <RowDefinition Height="4*"></RowDefinition>
            </Grid.RowDefinitions>
            <TextBlock Text ="{Binding SelectedUser.FullName}"></TextBlock>
            <ListView Grid.Row="1" ItemsSource="{Binding Messages}" >
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <StackPanel>
                            <Image Source="{Binding User.PhotoUrl}" />
                            <TextBlock Text="{Binding User.FullName}"/>
                            <TextBlock Text="{Binding Body}"/>
                        </StackPanel>
                    </DataTemplate>
                </ListView.ItemTemplate>                   
            </ListView>
            <TextBox Grid.Row="2" Text="{Binding Message}"></TextBox>
            <Button Grid.Row="3" Content="Отправить" Command="{Binding SendMessageCommand}"/>
        </Grid>
        
       
    </Grid>
</Window>
